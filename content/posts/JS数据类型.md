---
title: "JS数据类型"
date: 2019-09-28T16:22:17+08:00
draft: false
---

# JS 数据类型

## 相关知识概述

1. 都是一，为什么要分数字 1 和字符串'1'?
   - 功能不同：
     1. 数字是数字，字符串是字符串，要严谨；
     2. 数字能加减乘除，字符串不行；
     3. 字符串能表示电话号码，数字不行；
   - 存储形式不同：
     1. JS 中，数字是用 64 位浮点数的形式存储的；
     2. JS 中，字符串实用类似 UTF8 形式存储的(UCS-2);
2. 如何存数字？
   - 十进制转二进制即可
3. 用 0~127 表示所有符号：
   - 0 表示结束字符；
   - 10 表示换行；
   - 13 表示回车；
   - 32 表示空格；
   - 33-47 表示标点；
   - 48-57 表示数字符号；
   - 65-90 表示大写字母；
   - 97-122 表示小写字母；
   - 127 表示删除键；
4. Unicode
   - 优点：
     1. 已经收录 13 万字符（大于 16 位），全世界通用；
     2. 以后还会继续扩充，不会停止；
     3. 最新版只添加了一个字--令和的合体字；
   - 缺点：
     1. 两个字节不够用，每个字符都要用三个及以上字节；
     2. 这样所有的文件都扩大 50%，不划算；

## 数字 number

1. 写法：
   - 整数写法：1
   - 小数写法：0.1
   - 科学计数法：1.23e4
   - 八进制写法（用得少）：0123 或 00123 或 0o123
   - 十六进制写法：0x3F 或 0X3F
   - 二进制写法：0b11 或 0B11
2. 特殊值：
   - 正 0 和负 0：都等于 0，要严谨；
   - 无穷大：Infinity、+Infinity、-Infinity；
   - 无法表示的数字：NaN（Not a Number），但他是一个数字；
3. 64 位浮点数：
   1. JS 数字的存储形式：
      - 浮点就是浮动的点，意思就是小数点会乱动；
      - 123.456 可以表示为 1.23456e10^2;
      - 也可以表示为 12345.6e10^-2;
   2. 64 位存储一个 number：
      - 符号占 1 位；
      - 指数占 11 位（-1023~1024）；
      - 有效数字占 52 位（）开头的 1 省略；

## 字符串 string

1. 每个字符两个字节（阉割版 UTF8）;
2. 写法：
   - 单引号：'你好'
   - 双引号："你好"
   - 反引号：`你好`
   - 注意：引号不属于字符串的一部分，就像书名号不属于书名的一部分一样；
3. 引号里面加引号：
   - 错误写法：
     1. 'it's ok'
     2. JS 殷勤会认为'it'就结束了，后面的看不懂；
   - 正确写法：
     1. 'it\'s ok'//这就是转义
     2. "it's ok"
     3. `it's ok`
4. 转义-用另一种写法表示你想要的东西
   - \'表示'
   - \"表示"
   - \n 表示换行
   - \r 表示回车
   - \t 表示 tab 制表符
   - \\表示\
   - \uFFFF 表示对应的 Unicode 字符
   - \xFF 表示前 256 个 Unicode 字符
5. 多行字符串
   1. 如果你想要在字符串里回车：
   ```
    let s = `这样是
    可以的
    用反引号很容易做到`
   ```
   2. 以前没有反引号的时候写起来很麻烦，看讲义链接；
6. 字符串的长度：
   - string.length
     - '123'.length //3
     - '\n\r\t'.length //3
     - ''.length //0
     - ' '.length //1
7. 通过下标读取字符：
   - string[index]
     ```
       let s = 'hello'
     ```
     ```
       s[0]//"h"
     ```
   - 注意 index 从 0 开始：s[0]是第一个字符；
   - 注意 index 到 length：
   ```
   let s = 'hello';
   ```
   ```
   s[5]//undefined,居然不报错
   ```
   ```
   s[4]//'0'
   ```
8. base64 转码：
   - window.btoa:正常字符串转为 Base64 编码的字符串；
   - window.atob:Base64 编码的字符串转为原来的字符串；
   - 一般用来隐藏招聘启事里的简历：邮箱：ZmFuZ3pbmdoYW5nQGZveG1haWwuY29t
   - 有时候也用来自欺欺人：因为根本瞒不住内行；

## 布尔 bool

1. 真或假
2. 只有两个值：true 和 false，注意大小写；
3. 下列运算符会得到 bool 值：
   - 否定运算：!value
   - 相等运算：1===2、1!==2、3===4、3!==4
   * 比较运算：1>2、1>=2、3<4、3<=4;
4. if 配 bool：
   - if 语句常常需要判断真假：
   ```
    if(value){...}else{...}
   ```
   - 问题来了：
     - 如果 value 是 bool 值还好说；
     - 如果 value 不是 bool 值咋办，谁真谁假；
     * 1 是真还是假，0 是真还是假；
     * '1'是真还是假，'0'是真还是假；
5. 五个 falsy 值：falsy 就是相当于 false 但又不是 false 的值，分别是 undefined null 0 NaN ''
6. ''和' '不是一个玩意，一个有空格，一个没有空格；

## 符号 symbol

- 不怎么常用的数据类型

## 空 undefined 和 null

1. 为什么有两个空：这是 JS 的原创之处（原创之处并不优秀，优秀之处并不原创）
2. 两者的区别：
   - 没有本质区别；
   - 细节一：如果一个变量声明了，但没有复制，那么默认值就是 undefined，而不是 null；
   - 细节二：如果一个函数，没有写 return，那么默认 return undefined，而不是 null；
   - 细节三：前端程序员习惯上，把非对象的空值写为 undefined，把对象的空值写为 null；但仅仅是习惯上而已；

## 变量声明：

1. 三种声明方式：
   - var a = 1;
   - let a = 1;
   - const a =1;
   - a = 1;
2. 区别：
   - var 是过时的，不好用的方式；
   - let 是新的，更合理的方式；
   - const 是声明时必须赋值，且不能再改的方式；
   - 最后这种方式是错误的，不准这样声明；
3. var 声明：写代码不用 var
4. let 声明：
   - 遵循块作用域，即适用范围不能超出{}
   - 不能重复声明；
   - 可以赋值，也可以不赋值；
   - 必须先声明再使用，否则报错；
   - 全局声明的 let 变量，不会变成 window 的属性；
   - for 循环配合 let 有奇效；
5. const 声明：
   - 跟 let 几乎一样；
   - 只有一条不一样：声明时就要赋值，赋值后不能不能改；
6. 变量声明：
   - 指定值：var a = 1
   - 同时也指定了类型：var a = 1
   - 但是值和类型都可以随意变化
     - a = 2
     - a = '字符串'
7. name 和'name'的区别：
   - name 是变量，值可变，可能是'name'，也可能是'hello'
   - 'name'是字符串常量：
     - 常量就是不变量；
     - 'name'只能是'name'，不能是其他值

## 总结：

1. 六种类型（大小写无所谓）：undefined null number string bool symbol
2. 这些都是简单类型，只有 object 叫做复杂类型；

## 类型转化：

1. number=>string
   - String(n)
   - n+''
2. string=>number
   - Number(s)
   - parseInt(s)/parseFloat(s)
   - s-0
3. x=>bool
   - Boolean(x)
   - !!x
4. x=>string
   - String(x)
   - x.toString()
